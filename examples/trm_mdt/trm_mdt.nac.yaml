iosxe:
  devices:
    - name: TRM-Router
      host: 10.1.1.1
      configuration:
        system:
          hostname: TRM-Router
          ip_multicast_routing: true
        
        # TRM VRF with VxLAN Auto-Discovery
        vrfs:
          - name: TRM_VRF_VXLAN
            description: "TRM VRF with VxLAN MDT Auto-Discovery"
            route_distinguisher: "65000:100"
            vpn_id: "65000:100"
            address_family_ipv4:
              enable: true
              import_route_targets:
                - "65000:100"
              export_route_targets:
                - "65000:100"
              mdt:
                default_address: 239.1.1.1
                auto_discovery_vxlan: true
                auto_discovery_vxlan_inter_as: true
                overlay_use_bgp: true
                overlay_use_bgp_spt_only: true
                data_threshold: 50
                data_multicast:
                  - address: 239.1.2.0
                    wildcard: 0.0.0.255
                    access_list: MDT_DATA_ACL
          
          # TRM VRF with VxLAN-PIM Interworking
          - name: TRM_VRF_INTERWORKING
            description: "TRM VRF with VxLAN-PIM Interworking"
            route_distinguisher: "65000:200"
            vpn_id: "65000:200"
            address_family_ipv4:
              enable: true
              import_route_targets:
                - "65000:200"
              export_route_targets:
                - "65000:200"
              mdt:
                default_address: 239.2.1.1
                auto_discovery_interworking_vxlan_pim: true
                auto_discovery_interworking_vxlan_pim_inter_as: true
                overlay_use_bgp: true
                data_threshold: 75
                data_multicast:
                  - address: 239.2.2.0
                    wildcard: 0.0.0.255
          
          # Advanced TRM VRF with Multiple Data Groups
          - name: TRM_VRF_ADVANCED
            description: "Advanced TRM VRF with Multiple MDT Data Groups"
            route_distinguisher: "65000:300"
            vpn_id: "65000:300"
            address_family_ipv4:
              enable: true
              import_route_targets:
                - "65000:300"
              export_route_targets:
                - "65000:300"
              mdt:
                default_address: 239.10.10.1
                auto_discovery_vxlan: true
                overlay_use_bgp: true
                data_threshold: 100
                data_multicast:
                  - address: 239.10.20.0
                    wildcard: 0.0.0.255
                    access_list: ACL_MDT_1
                  - address: 239.10.30.0
                    wildcard: 0.0.1.255
                    access_list: ACL_MDT_2
                  - address: 239.10.40.0
                    wildcard: 0.0.0.127
                    access_list: ACL_MDT_3

